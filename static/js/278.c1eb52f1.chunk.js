"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[278],{854:function(e,t,r){var n=r(643),a=r(184);t.Z=function(){return(0,a.jsx)(n.yk,{height:"100",width:"100",color:"#077728",visible:!0,outerCircleColor:"#094677",innerCircleColor:"#c0119a",barColor:"#bbce0b",ariaLabel:"circles-with-bar-loading"})}},9155:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(1087),a=r(7689),i="MoviesList_moviesList__P6SP5",s="MoviesList_moviesList__item__6884X",u="MoviesList_card__info__nGMfE",c="MoviesList_card__text__slide__BUC62",o=r(184),p=function(e){var t=e.films,r=(0,a.TH)();return(0,o.jsx)("ul",{className:i,children:t.map((function(e){var t=e.original_title,a=e.id,i=e.poster_path,p=e.vote_average;return(0,o.jsx)("li",{className:s,children:(0,o.jsxs)(n.rU,{to:"/movies/".concat(a),state:{from:r},children:[(0,o.jsx)("img",{src:i,alt:"poster"}),(0,o.jsxs)("div",{className:u,children:[(0,o.jsx)("p",{className:c,children:t}),(0,o.jsxs)("p",{className:c,children:["Rate: ",p]})]})]})},a)}))})}},9278:function(e,t,r){r.r(t);var n=r(5861),a=r(9439),i=r(7757),s=r.n(i),u=r(2791),c=r(1087),o=r(4390),p=r(9155),l=r(854),f=r(184);t.default=function(){var e,t=(0,u.useState)(""),r=(0,a.Z)(t,2),i=r[0],v=r[1],h=(0,u.useState)([]),m=(0,a.Z)(h,2),d=m[0],_=m[1],g=(0,u.useState)(!1),x=(0,a.Z)(g,2),b=x[0],w=x[1],Z=(0,c.lr)(),j=(0,a.Z)(Z,2),y=j[0],k=j[1],C=null!==(e=y.get("searchParams"))&&void 0!==e?e:"";(0,u.useEffect)((function(){function e(){return(e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,(0,o.Ph)(C);case 4:t=e.sent,_(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v("something went wrong");case 11:return e.prev=11,w(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}C&&function(){e.apply(this,arguments)}()}),[C]);return(0,f.jsxs)(f.Fragment,{children:[b&&(0,f.jsx)(l.Z,{}),(0,f.jsx)("div",{children:(0,f.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.query.value.trim().toLowerCase();t&&k({searchParams:t})},children:(0,f.jsxs)("label",{children:[(0,f.jsx)("input",{type:"text",name:"query"}),(0,f.jsx)("button",{type:"submit",children:"SEARCH"})]})})}),d.length>0&&(0,f.jsx)(p.Z,{films:d}),i&&(0,f.jsx)("p",{children:i})]})}},4390:function(e,t,r){r.d(t,{Gc:function(){return f},JS:function(){return c},Jh:function(){return h},Ph:function(){return d},TP:function(){return p},xn:function(){return g}});var n=r(5861),a=r(7757),i=r.n(a),s=r(3263),u=r(1862);function c(){return o.apply(this,arguments)}function o(){return(o=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/trending/movie/week");case 2:return t=e.sent,r=t.data,e.abrupt("return",r.results.map((function(e){return{original_title:e.original_title,id:e.id,poster_path:g(e.poster_path),vote_average:b(e.vote_average)}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(i().mark((function e(t){var r,n,a,u,c,o,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(t));case 2:return r=e.sent,n=r.data,a=n.original_title,u=n.vote_average,c=n.overview,o=n.poster_path,p=n.genres,e.abrupt("return",{original_title:a,vote_average:b(u),overview:c,poster_path:g(o),genres:x(p)});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(t,"/credits"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.cast);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(t,"/reviews"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/search/movie",{params:{query:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results.map((function(e){return{original_title:e.original_title,id:e.id,poster_path:g(e.poster_path),vote_average:b(e.vote_average)}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.Z.defaults.baseURL="https://api.themoviedb.org/3",s.Z.defaults.params={api_key:"13b039c8ea964a53c22455b956eb62e0"};var g=function(e){return e?"https://image.tmdb.org/t/p/w500".concat(e):u},x=function(e){if(e)return e.map((function(e){return e.name+","})).join(" ")},b=function(e){return Math.round(10*e)}},1862:function(e,t,r){e.exports=r.p+"static/media/noImage.e0e17cef2bdf36b3c5b5.jpeg"}}]);
//# sourceMappingURL=278.c1eb52f1.chunk.js.map